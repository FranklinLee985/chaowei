webpackJsonp([1],{0:function(e,t,o){e.exports=o("6G9P")},"0jvK":function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("pFYg"),r=n(a),i=o("Zrlr"),l=n(i),s=o("wxAW"),d=n(s),u=o("T+56"),c=n(u),f=function(){function e(){(0,l.default)(this,e),this.permissionsJson=this.productionDefaultAppAppPermissions()}return(0,d.default)(e,[{key:"productionDefaultAppAppPermissions",value:function(){return{canDraw:!1,pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,isShowCoursewareRemarks:!1,sendSignallingFromRemoteControl:!1,sendSignallingFromUpdateTime:!1}}},{key:"resetDefaultAppPermissions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;t.permissionsJson=t.productionDefaultAppAppPermissions(),e&&c.default.CoreController.dispatchEvent({type:"initAppPermissions",message:{data:t.permissionsJson}})}},{key:"resetAppPermissions",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this;e&&"object"===(void 0===e?"undefined":(0,r.default)(e))&&(Object.customAssign(o.permissionsJson,e),t&&c.default.CoreController.dispatchEvent({type:"resetAppPermissions",message:{data:o.permissionsJson}}))}},{key:"setAppPermissions",value:function(e,t){var o=this;if(o.permissionsJson[e]!==t){L.Logger.debug("setAppPermissions key and value:",e,t,"old appPermissions:",o.permissionsJson[e]),o.permissionsJson[e]=t;var n={type:"updateAppPermissions_"+e,message:{key:e,value:t}};c.default.CoreController.dispatchEvent(n)}}},{key:"getAppPermissions",value:function(e){return this.permissionsJson[e]}},{key:"initAppPermissions",value:function(e){L.Logger.debug("initAppPermissions data:",e);var t=this;for(var o in e)t.permissionsJson[o]=e[o];c.default.CoreController.dispatchEvent({type:"initAppPermissions",message:{data:t.permissionsJson}})}}]),e}(),m=new f;t.default=m},"0lA4":function(e,t){},"2vo4":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={preLoad:{text:"課件加載中",pass:"跳過"}};t.default=n},"5PlU":function(e,t,o){var n=o("RY/4"),a=o("dSzd")("iterator"),r=o("/bQp");e.exports=o("FeBl").isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||r.hasOwnProperty(n(t))}},"6G9P":function(e,t,o){"use strict";o("0lA4"),o("XkXc"),o("WN3Y"),o("gDty"),o("buLY"),o("PqAP");var n=o("nst9");(0,function(e){return e&&e.__esModule?e:{default:e}}(n).default)()},BO1k:function(e,t,o){e.exports={default:o("fxRn"),__esModule:!0}},CJli:function(e,t,o){o("pRCB");var n=o("FeBl").Object;e.exports=function(e,t){return n.defineProperties(e,t)}},Cdx3:function(e,t,o){var n=o("sB3e"),a=o("lktj");o("uqUo")("keys",function(){return function(e){return a(n(e))}})},DrPG:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("gRE1"),r=n(a),i=o("W3Iv"),l=n(i),s=o("BO1k"),d=n(s),u=o("d7EF"),c=n(u),f=o("fZjL"),m=n(f),g=o("pFYg"),p=n(g),v={tool:{launchFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},exitFullscreen:function(){document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():element.msExitFullscreen&&element.msExitFullscreen()},isFullScreenStatus:function(e){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitFullScreen||document.msFullScreen||!1},getFullscreenElement:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},isFullscreenEnabled:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},runPrefixMethod:function(e,t){var o=void 0;return["webkit","moz","ms","o",""].forEach(function(n){if(!o){""===n&&(t=t.slice(0,1).toLowerCase()+t.slice(1));var a=(0,p.default)(e[n+t]);a+""!="undefined"&&(o="function"===a?e[n+t]():e[n+t])}}),o},addFullscreenchange:function(e){v.tool.addEvent(document,"fullscreenchange",e,!1),v.tool.addEvent(document,"webkitfullscreenchange",e,!1),v.tool.addEvent(document,"mozfullscreenchange",e,!1),v.tool.addEvent(document,"MSFullscreenChange",e,!1),v.tool.addEvent(document,"msfullscreenchange",e,!1),v.tool.addEvent(document,"fullscreeneventchange",e,!1)},removeFullscreenchange:function(e){v.tool.removeEvent(document,"fullscreenchange",e,!1),v.tool.removeEvent(document,"webkitfullscreenchange",e,!1),v.tool.removeEvent(document,"mozfullscreenchange",e,!1),v.tool.removeEvent(document,"MSFullscreenChange",e,!1),v.tool.removeEvent(document,"msfullscreenchange",e,!1),v.tool.removeEvent(document,"fullscreeneventchange",e,!1)},addFullscreenerror:function(e){v.tool.addEvent(document,"fullscreenerror",e,!1),v.tool.addEvent(document,"webkitfullscreenerror",e,!1),v.tool.addEvent(document,"mozfullscreenerror",e,!1),v.tool.addEvent(document,"MSFullscreenError",e,!1),v.tool.addEvent(document,"msfullscreenerror",e,!1),v.tool.addEvent(document,"fullscreenerroreventchange",e,!1)},removeFullscreenerror:function(e){v.tool.removeEvent(document,"fullscreenerror",e,!1),v.tool.removeEvent(document,"webkitfullscreenerror",e,!1),v.tool.removeEvent(document,"mozfullscreenerror",e,!1),v.tool.removeEvent(document,"MSFullscreenError",e,!1),v.tool.removeEvent(document,"msfullscreenerror",e,!1),v.tool.removeEvent(document,"fullscreenerroreventchange",e,!1)},addEvent:function(e,t,o,n){n=void 0!=n&&null!=n&&n,e.addEventListener?e.addEventListener(t,o,n):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},removeEvent:function(e,t,o,n){e.addEventListener?e.removeEventListener(t,o,n):e.attachEvent?e.detachEvent("on"+t,o):e["on"+t]=null},fireEvent:function(e,t){if(document.createEventObject){var o=document.createEventObject();return e.fireEvent("on"+t,o)}var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!0),!e.dispatchEvent(n)}},getGUID:function(){function e(){this.date=new Date,"function"!=typeof this.newGUID&&(e.prototype.newGUID=function(){this.date=new Date;for(var e="",t=this.hexadecimal(this.getGUIDDate(),16),o=this.hexadecimal(this.getGUIDTime(),16),n=0;n<9;n++)e+=Math.floor(16*Math.random()).toString(16);for(e+=t,e+=o;e.length<32;)e+=Math.floor(16*Math.random()).toString(16);return this.formatGUID(e)},e.prototype.getGUIDDate=function(){return this.date.getFullYear()+this.addZero(this.date.getMonth()+1)+this.addZero(this.date.getDay())},e.prototype.getGUIDTime=function(){return this.addZero(this.date.getHours())+this.addZero(this.date.getMinutes())+this.addZero(this.date.getSeconds())+this.addZero(parseInt(this.date.getMilliseconds()/10))},e.prototype.addZero=function(e){return"NaN"!=Number(e).toString()&&e>=0&&e<10?"0"+Math.floor(e):e.toString()},e.prototype.hexadecimal=function(e,t,o){return void 0!=o?parseInt(e.toString(),o).toString(t):parseInt(e.toString()).toString(t)},e.prototype.formatGUID=function(e){return e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20)})}return new e},getNewGUID:function(){v.guidObj||(v.guidObj=new v.getGUID);var e=v.guidObj.newGUID();return v.guidObj=null,e},getBrowserInfo:function(){var e=window.navigator.userAgent,t=/(msie\s|trident.*rv:)([\w.]+)/,o=/(firefox)\/([\w.]+)/,n=/(opera).+version\/([\w.]+)/,a=/(chrome)\/([\w.]+)/,r=/version\/([\w.]+).*(safari)/,i=function(e){var i=t.exec(e);return null!=i?{browser:"IE",version:i[2]||"0"}:null!=(i=o.exec(e))?{browser:i[1]||"",version:i[2]||"0"}:null!=(i=n.exec(e))?{browser:i[1]||"",version:i[2]||"0"}:null!=(i=a.exec(e))?{browser:i[1]||"",version:i[2]||"0"}:(i=r.exec(e),null!=i?{browser:i[2]||"",version:i[1]||"0"}:null!=i?{browser:"",version:"0"}:{browser:"unknown",version:"unknown"})}(e.toLowerCase());return{versions:function(){var e=navigator.userAgent;return navigator.appVersion,{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase(),info:{browserName:i.browser,browserVersion:i.version,appCodeName:navigator.appCodeName,appMinorVersion:navigator.appMinorVersion,appName:navigator.appName,appVersion:navigator.appVersion,browserLanguage:navigator.browserLanguage,cookieEnabled:navigator.cookieEnabled,cpuClass:navigator.cpuClass,onLine:navigator.onLine,platform:navigator.platform,systemLanguage:navigator.systemLanguage,userAgent:navigator.userAgent,userLanguage:navigator.userLanguage}}},isEmpty:function(e){return 0===(0,m.default)(e).length},getUrlParams:function(e,t){var o=window.location.href;window.TkConstant&&(o=v.decrypt(window.TkConstant.SERVICEINFO.joinUrl)||window.location.href),o=t||o;var n=decodeURIComponent(o),a=n.indexOf("?"),r=n.substring(a+1),i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),l=r.match(i);return null!=l?l[2]:""},replaceFirstUper:function(e){if(e.length>0)return e.substring(0,1).toUpperCase()+e.substring(1)},isArray:function(e){return Array&&Array.isArray&&"function"==typeof Array.isArray?Array.isArray(e):e&&"object"===(void 0===e?"undefined":(0,p.default)(e))&&"number"==typeof e.length&&"function"==typeof e.splice&&!e.propertyIsEnumerable("length")},filterContainDataAttribute:function(e){var t=v;if(e&&!t.isArray(e)&&"object"===(void 0===e?"undefined":(0,p.default)(e))){var o={},n=!0,a=!1,r=void 0;try{for(var i,s=(0,d.default)((0,l.default)(e));!(n=(i=s.next()).done);n=!0){var u=i.value,f=(0,c.default)(u,2),m=f[0],g=f[1];/^tkcustomdata/g.test(m)&&(o[m]=g)}}catch(e){a=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw r}}return o}return e},getFiletyeByFilesuffix:function(e){return"jpg"==e||"jpeg"==e||"png"==e||"gif"==e||"ico"==e||"bmp"==e?"jpg":"doc"==e||"docx"==e||"rtf"==e?"doc":"pdf"==e?"pdf":"ppt"==e||"pptx"==e||"pps"==e?"ppt":"txt"==e?"txt":"xls"==e||"xlsx"==e?"xlsx":"mp4"==e||"webm"==e?"mp4":"mp3"==e||"wav"==e?"mp3":"zip"==e?"h5":"whiteboard"===e?"whiteboard":"other"},isFunction:function(e){return e&&"function"==typeof e},getCustomUserPropertyByUser:function(e){return{disableaudio:e.disableaudio,disablevideo:e.disablevideo,giftnumber:e.giftnumber,hasaudio:e.hasaudio,hasvideo:e.hasvideo,publishstate:e.publishstate,raisehand:e.raisehand}},getTimeDifferenceToFormat:function(e,t){var o=t-e;if(o>=0){var n=Math.floor(o/864e5),a=o%864e5,r=Math.floor(a/36e5),i=a%36e5,l=Math.floor(i/6e4),s=i%6e4,d=Math.round(s/1e3),u=r+24*n,c={};return d>=60&&(d=0,l+=1),l>=60&&(l=0,u+=1),c.hh=u>9?u:"0"+u,c.mm=l>9?l:"0"+l,c.ss=d>9?d:"0"+d,c}return void L.Logger.error("Start time is greater than end time [start:"+e+"  , end:"+t+"]!")},isMillisecondClass:function(e){if("number"!=typeof e)return void L.Logger.error("time must is number!");e=String(e);var t=e.length;return 13===t||10!==t&&void L.Logger.warning("The incoming time is incorrect and cannot be judged to be second or second!")},encrypt:function(e,t){if(!e)return e;if(window.TkConstant){if(window.TkConstant.DEV)return e}else{var o=!1;try{o=!1}catch(e){L.Logger.warning("There is no configuration dev mark[__DEV__]!")}if(o||v.getUrlParams("debug"))return e}return L.Utils.encrypt(e,t)},decrypt:function(e,t){if(!e)return e;if(window.TkConstant){if(window.TkConstant.DEV)return e}else if(v.getUrlParams("debug"))return e;return L.Utils.decrypt(e,t)},detectOS:function(){var e=navigator.userAgent,t="Win32"===navigator.platform||"Windows"===navigator.platform,o="Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform;if(o)return"Mac";if("X11"===navigator.platform&&!t&&!o)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(t){if(e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1)return"Win2000";if(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)return"WinXP";if(e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1)return"Win2003";if(e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1)return"WinVista";if(e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1)return"Win7";if(e.indexOf("Windows NT 6.2")>-1||e.indexOf("Windows 8")>-1)return"Win8";if(e.indexOf("Windows NT 10.0")>-1||e.indexOf("Windows 10")>-1)return"Win10"}return"Other"},percentageChangeToRem:function(e,t,o){var n=window.GLOBAL.windowInnerWidth/TkConstant.STANDARDSIZE,a=document.getElementById(o);if(a){var r=a.offsetWidth,i=a.offsetHeight,l=void 0,s=void 0;if("pc"===TK.SDKTYPE){var d=document.getElementById("lc-full-vessel");l=d.clientWidth,s=d.clientHeight}else l=window.GLOBAL.windowInnerWidth,s=window.GLOBAL.windowInnerHeight;var u=e*(l-r)/n,c=t*(s-i)/n;return u=u&&u!==1/0&&!isNaN(u)&&u>0?u:0,c=c&&c!==1/0&&!isNaN(c)&&c>0?c:0,{left:u,top:c}}return{left:0,top:0}},RemChangeToPercentage:function(e,t,o){var n=window.GLOBAL.windowInnerWidth/TkConstant.STANDARDSIZE,a=document.getElementById(o);if(a){var r=a.offsetWidth,i=a.offsetHeight,l=void 0,s=void 0;if("pc"===TK.SDKTYPE){var d=document.getElementById("lc-full-vessel");l=d.clientWidth,s=d.clientHeight}else l=window.GLOBAL.windowInnerWidth,s=window.GLOBAL.windowInnerHeight;var u=e*n/(l-r),c=t*n/(s-i);return u=u&&u!==1/0&&!isNaN(u)&&u>0?u:0,c=c&&c!==1/0&&!isNaN(c)&&c>0?c:0,{percentLeft:u,percentTop:c}}return{percentLeft:0,percentTop:0}},controlDragBounds:function(e,t,o){var n=window.GLOBAL.windowInnerWidth/TkConstant.STANDARDSIZE,a=document.getElementById(t),r=a.offsetWidth/n,i=a.offsetHeight/n,l=document.getElementById(o),s=l.clientWidth/n,d=l.clientHeight/n;return e.state[t].left=e.state[t].left<0?e.state[t].left=0:e.state[t].left,e.state[t].left=e.state[t].left>s-r?s-r:e.state[t].left,e.state[t].top=e.state[t].top<0?e.state[t].top=0:e.state[t].top,e.state[t].top=e.state[t].top>d-i?d-i:e.state[t].top,e.state[t]},replaceRemToNumber:function(e){return e&&"string"==typeof e&&(e=Number(e.replace(/rem/g,""))),e},replaceCalc:function(e){return e&&"string"==typeof e&&(e=e.replace(/(^\s*)|(\s*$)/g,""),e=e.replace(/(^calc\s*\(|\)$)/g,"")),e},limitEleReSize:function(e,t,o){var n=window.GLOBAL.windowInnerWidth/TkConstant.STANDARDSIZE,a=window.GLOBAL.windowInnerWidth/n,r=window.GLOBAL.windowInnerHeight/n;if("pc"===TK.SDKTYPE){var i=document.getElementById("lc-full-vessel");a=i.clientWidth/n,r=i.clientHeight/n}return(e>a||t>r)&&(o>a/r?(e=a,t=a/o):(t=r,e=r*o)),{width:e,height:t}},getStyle:function(e,t){return e?window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]:0},getSpecifyRoleList:function(e,t){if(void 0===e||void 0===t)return{};var o={},n=!0,a=!1,i=void 0;try{for(var l,s=(0,d.default)((0,r.default)(t));!(n=(l=s.next()).done);n=!0){var u=l.value;o[u.role]||(o[u.role]={}),o[u.role][u.id]=u}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return o[e]||{}}};t.default=v},GrKX:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("pFYg"),r=n(a),i=o("W3Iv"),l=n(i),s=o("BO1k"),d=n(s),u=o("d7EF"),c=n(u),f=o("mvHQ"),m=n(f),g=o("Zrlr"),p=n(g),v=o("wxAW"),h=n(v),b=o("T+56"),y=n(b),k=o("VSuD"),w=n(k),T=o("DrPG"),S=n(T),E=o("Wi6Q"),P=n(E),C=o("HUPQ"),R=n(C),_=o("yE5a"),I=n(_),M=o("0jvK"),A=n(M),O=o("YRCL"),D=n(O),B=function(){function e(t){(0,p.default)(this,e),this.room=t}return(0,h.default)(e,[{key:"registerEventToRoom",value:function(){var e=this;for(var t in w.default.EVENTTYPE.RoomEvent)!function(t){I.default.getTkRoom().addEventListener(w.default.EVENTTYPE.RoomEvent[t],function(o){if(!e["handler"+S.default.replaceFirstUper(t)]||"function"!=typeof e["handler"+S.default.replaceFirstUper(t)]||!e["handler"+S.default.replaceFirstUper(t)](o)){var n=!0;("stream-rtcStats"===o.type||"room-pubmsg"===o.type&&"sendNetworkState"===o.message.name)&&(n=!1),n&&L.Logger.debug(w.default.EVENTTYPE.RoomEvent[t]+" event:",o),y.default.CoreController.dispatchEvent(o,n)}})}(t)}},{key:"handlerRoomPubmsg",value:function(e){var t=this;e.message&&"string"==typeof e.message&&(e.message=JSON.parse(e.message)),e.message.data&&"string"==typeof e.message.data&&(e.message.data=JSON.parse(e.message.data));var o=e.message;if(R.default.signallingMessageList&&R.default.signallingMessageList.length>0&&"UpdateTime"!==o.name&&"LowConsume"!==o.name&&"StreamFailure"!==o.name)return R.default.signallingMessageList.push(o),!0;switch(R.default.serviceTime||(R.default.serviceTime=1e3*o.ts,R.default.remindServiceTime=1e3*o.ts),o.name){case"ClassBegin":R.default.serviceTime=S.default.isMillisecondClass(o.ts)?o.ts:1e3*o.ts,R.default.remindServiceTime=S.default.isMillisecondClass(o.ts)?o.ts:1e3*o.ts,t._classBeginStartHandler(o);break;case"UpdateTime":R.default.serviceTime=1e3*o.ts,R.default.remindServiceTime=1e3*o.ts,R.default.firstGetServiceTime||R.default.isHandleMsglistFromRoomPubmsg||!R.default.signallingMessageList||(R.default.firstGetServiceTime=!0,R.default.classBegin||this._msglistOnConnected(R.default.signallingMessageList,"roomConnected"),this._msglistOnConnected(R.default.signallingMessageList,"roomPubmsg"),R.default.signallingMessageList=null,delete R.default.signallingMessageList);break;case"RemoteControl":switch(o.data.action){case"nowSomeoneCdnIp":D.default.sendSignallingFromRemoteControl(o.fromID,{action:"callCdnIp",serverInfo:{serverKey:window.WBGlobal.docAddressKey}});break;case"changeCdnIp":var n=o.data.key;window.WBGlobal.docAddressKey!==n&&I.default.getTkWhiteBoardManager().switchDocAddress(n,!0);break;case"nativeUpdateDoc":I.default.getTkWhiteBoardManager().nativeUpdateDoc(o.data.docAddress)}break;case"StreamFailure":L.Logger.info("StreamFailure signalling:"+(0,m.default)(o))}return"sendNetworkState"===o.name||"BlackBoardDrag"===o.name||"videoDraghandle"===o.name||void 0}},{key:"handlerRoomDelmsg",value:function(e){var t=this;e.message&&"string"==typeof e.message&&(e.message=JSON.parse(e.message)),e.message.data&&"string"==typeof e.message.data&&(e.message.data=JSON.parse(e.message.data));var o=e.message;if(R.default.signallingMessageList&&R.default.signallingMessageList.length>0){for(var n=R.default.signallingMessageList.length-1;n>=0;n--)R.default.signallingMessageList[n].id!==o.id&&R.default.signallingMessageList[n].associatedMsgID!==o.id||R.default.signallingMessageList.splice(n,1);return!0}switch(o.name){case"ClassBegin":t._classBeginEndHandler(o)}}},{key:"handlerRoomConnected",value:function(e){this._compareDocServerSpeedSwitchCND(),I.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({languageType:"chinese"===R.default.language.name?"ch":"complex"===R.default.language.name?"tw":"en",mediaShareToID:I.default.getTkRoom().getMySelf().id,clientMediaShare:R.default.isClient&&R.default.clientversion>=2018031e3&&!R.default.isMacClient,synchronization:!1,canDraw:!1,canPage:I.default.getTkRoom().getMySelf().candraw||w.default.hasRole.roleTeachingAssistant||w.default.hasRole.roleChairman||w.default.hasRole.roleStudent&&w.default.joinRoomInfo.isSupportPageTrun,actionClick:I.default.getTkRoom().getMySelf().candraw||w.default.hasRole.roleTeachingAssistant||w.default.hasRole.roleChairman||w.default.hasRole.roleStudent&&w.default.joinRoomInfo.isSupportPageTrun,isMobile:"mobile"===TK.SDKTYPE,pptVolumeSynchronization:!1,addPage:!1}),R.default.firstGetServiceTime=!1,R.default.isHandleMsglistFromRoomPubmsg=!1,R.default.appConnected=!0;var t=P.default.getRoleHasDefalutAppPermissions();A.default.initAppPermissions(t);var o=e.message;R.default.signallingMessageList=o,this._msglistOnConnected(R.default.signallingMessageList,"roomConnected"),R.default.serviceTime&&!R.default.firstGetServiceTime&&!R.default.isHandleMsglistFromRoomPubmsg&&R.default.signallingMessageList&&(R.default.firstGetServiceTime=!0,this._msglistOnConnected(R.default.signallingMessageList,"roomPubmsg"),R.default.signallingMessageList=null,delete R.default.signallingMessageList),D.default.setParticipantPropertyToAll(I.default.getTkRoom().getMySelf().id,{codeVersion:2}),this._startTime()}},{key:"handlerRoomDisconnected",value:function(e){R.default.appConnected=!1,R.default.classBegin=!1,R.default.serviceTime=void 0,R.default.remindServiceTime=void 0,R.default.signallingMessageList=null,delete R.default.signallingMessageList,R.default.isHandleMsglistFromRoomPubmsg=!1,R.default.participantGiftNumberJson={}}},{key:"handlerRoomUserpropertyChanged",value:function(e){var t=e.message,o=e.user,n=!0,a=!1,r=void 0;try{for(var i,s=(0,d.default)((0,l.default)(t));!(n=(i=s.next()).done);n=!0){var u=i.value,f=(0,c.default)(u,2),m=f[0],g=f[1];o.id===I.default.getTkRoom().getMySelf().id&&"candraw"===m&&(I.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({canDraw:!1,canPage:g||w.default.hasRole.roleStudent&&w.default.joinRoomInfo.isSupportPageTrun,actionClick:g,synchronization:g,isH5MediaOutput:"ios"===R.default.clientType,isH5MediaOutputDominant:"ios"===R.default.clientType}),A.default.setAppPermissions("canDraw",g))}}catch(e){a=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw r}}}},{key:"handlerRoomPlaybackClearAll",value:function(e){return y.default.CoreController.dispatchEvent({type:w.default.EVENTTYPE.RoomEvent.roomPlaybackClearAllFromPlaybackController}),!0}},{key:"handlerRoomReceiveActionCommand",value:function(e){var t=e.message,o=t.action;switch(t.cmd,o){case"transmitWindowSize":document.getElementById("tk_app")?(R.default.windowInnerWidth=document.getElementById("tk_app").clientWidth,R.default.windowInnerHeight=document.getElementById("tk_app").clientHeight):(R.default.windowInnerWidth=window.innerWidth,R.default.windowInnerHeight=window.innerHeight);var n=R.default.windowInnerWidth/w.default.STANDARDSIZE,a=document.getElementById("all_root")||document.getElementsByTagName("html");if(a){var r=S.default.isArray(a)?a[0]:a;r&&r.style&&(r.style.fontSize=n+"px")}return y.default.Window.dispatchEvent({type:w.default.EVENTTYPE.WindowEvent.onResize,message:{defalutFontSize:n}}),!0}}},{key:"handlerRoomModeChanged",value:function(e){e.message.roomMode===TK.ROOM_MODE.BIG_ROOM?R.default.HeightConcurrence=!0:e.message.roomMode===TK.ROOM_MODE.NORMAL_ROOM&&(R.default.HeightConcurrence=!1)}},{key:"handlerRoomAudiovideostateSwitched",value:function(e){var t=e.message;R.default.isOnlyAudioRoom=t.onlyAudio}},{key:"handlerRoomCheckroom",value:function(e){var t=e.message||{},o=t.ret,n=t.roominfo;this._handlerCheckroomOrInitPlaybackInfo(o,n)}},{key:"handlerRoomCheckroomPlayback",value:function(e){var t=e.message||{},o=t.ret,n=t.roominfo;this._handlerCheckroomOrInitPlaybackInfo(o,n)}},{key:"handlerRoomUpdateFakeJsSdkInitInfo",value:function(e){var t=e.message;void 0!==t.playback&&(R.default.playback=t.playback),void 0!==t.deviceType&&(R.default.mobileDeviceType=t.deviceType,R.default.clientType=t.clientType,w.default.STANDARDSIZE="pad"===t.deviceType?20.48:13.34)}},{key:"handlerRoomServeraddressUpdate",value:function(e){var t=e.message,o=t.web_protocol,n=t.web_host,a=t.web_port,r=t.doc_protocol,i=t.doc_host,l=t.doc_port;"127.0.0.1"==i?w.default.bindServiceinfoToTkConstant({protocol:o,web_host:n,web_port:a,isInit:R.default.handlerRoomServeraddressUpdateIsInit}):w.default.bindServiceinfoToTkConstant({protocol:o,web_host:n,web_port:a,doc_protocol:r,doc_host:i,doc_port:l,isInit:R.default.handlerRoomServeraddressUpdateIsInit})}},{key:"_classBeginStartHandler",value:function(e){R.default.classBeginTime=S.default.isMillisecondClass(e.ts)?e.ts:1e3*e.ts,R.default.classBegin=!0,I.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({mediaShareToID:"__all",synchronization:!(!w.default.hasRole.roleChairman&&!w.default.hasRole.roleTeachingAssistant)||I.default.getTkRoom().getMySelf().candraw,addPage:w.default.hasRole.roleChairman||w.default.hasRole.roleTeachingAssistant,pptVolumeSynchronization:w.default.hasRole.roleChairman||w.default.hasRole.roleTeachingAssistant});var t=P.default.getRoleHasDefalutAppPermissions();A.default.initAppPermissions(t)}},{key:"_classBeginEndHandler",value:function(e){R.default.classBegin=!1,R.default.endClassBegin=!0,I.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({mediaShareToID:void 0,synchronization:!1,addPage:!1,pptVolumeSynchronization:!1});var t=P.default.getRoleHasDefalutAppPermissions();A.default.initAppPermissions(t)}},{key:"_msglistOnConnected",value:function(e,t){var o=this,n={};return function(e,t,n){var a={};for(var r in e)n&&n[e[r].name]||(e[r].data&&"string"==typeof e[r].data&&(e[r].data=JSON.parse(e[r].data)),/outIframe/.test(e[r].name)?y.default.CoreController.dispatchEvent({type:"outIframe-msglist",message:{signallingData:e[r]}}):null==a[e[r].name]||void 0==a[e[r].name]?(a[e[r].name]=[],a[e[r].name].push(e[r])):a[e[r].name].push(e[r]));if("roomConnected"===t){var i=a.ClassBegin;null!=i&&void 0!=i&&i.length>0?"ClassBegin"==i[i.length-1].name&&(o._classBeginStartHandler(i[i.length-1]),y.default.CoreController.dispatchEvent({type:"receive-msglist-ClassBegin",source:"room-msglist",message:i[i.length-1]})):y.default.CoreController.dispatchEvent({type:"receive-msglist-not-ClassBegin",source:"room-msglist",message:{}}),a.ClassBegin=null}else if("roomPubmsg"===t){var l=a.WBPageCount;null!=l&&void 0!=l&&l.length>0&&"WBPageCount"==l[l.length-1].name&&y.default.CoreController.dispatchEvent({type:"receive-msglist-WBPageCount",source:"room-msglist",message:l[l.length-1]}),a.WBPageCount=null;var s=a.PptVolumeControl;null!=s&&void 0!=s&&s.length>0&&"PptVolumeControl"==s[s.length-1].name&&y.default.CoreController.dispatchEvent({type:"receive-msglist-PptVolumeControl",source:"room-msglist",message:{PptVolumeControlArr:s}}),a.PptVolumeControl=null;var d=null,u=a.ShowPage;if(null!=u&&void 0!=u&&u.length>0)for(var c=0;c<u.length;c++)u[c].data.isMedia||(d=u[c]);a.ShowPage=null,void 0!=d&&null!=d&&(L.Logger.debug("receive-msglist-ShowPage-lastDocument info:",d),y.default.CoreController.dispatchEvent({type:"receive-msglist-ShowPage-lastDocument",message:{data:d.data,source:"room-msglist"}})),R.default.isHandleMsglistFromRoomPubmsg=!0}}(e,t,n),!0}},{key:"_handlerCheckroomOrInitPlaybackInfo",value:function(e,t){L.Logger.debug("checkroom  ret and roominfo:",e,t);var o=S.default.decrypt(w.default.SERVICEINFO.joinUrl)||window.location.href,n=I.default.getTkRoom().getRoomProperties().chairmancontrol,a=void 0,i=void 0;R.default.playback?"mobile"===TK.SDKTYPE&&TK.global&&void 0!==TK.global.fakeJsSdkInitInfo.clientType?t.skins&&"object"===(0,r.default)(t.skins[TK.global.fakeJsSdkInitInfo.clientType])&&(a=t.skins[TK.global.fakeJsSdkInitInfo.clientType].tplId,i="0"===t.room.colourid?t.skins[TK.global.fakeJsSdkInitInfo.clientType].skinId:t.room.colourid):t.skins&&"object"===(0,r.default)(t.skins.pc)&&(a=t.skins.pc.tplId,i=t.skins.pc.skinId):t.room&&"object"===(0,r.default)(t.room)&&(a=t.room.tplId,i="0"===t.room.colourid?t.room.skinId:t.room.colourid);var l={starttime:I.default.getTkRoom().getRoomProperties().starttime,endtime:I.default.getTkRoom().getRoomProperties().endtime,nickname:I.default.getTkRoom().getMySelf().nickname,thirdid:I.default.getTkRoom().getMySelf().id,joinUrl:S.default.encrypt(o),serial:I.default.getTkRoom().getRoomProperties().serial,roomrole:Number(I.default.getTkRoom().getMySelf().role),roomtype:Number(I.default.getTkRoom().getRoomProperties().roomtype),companyid:Number(I.default.getTkRoom().getRoomProperties().companyid),isLivebypass:void 0!==I.default.getTkRoom().getRoomProperties().livebypass&&null!==I.default.getTkRoom().getRoomProperties().livebypass&&1===Number(I.default.getTkRoom().getRoomProperties().livebypass),assistantOpenMyseftAV:!(R.default.playback||!n)&&1===Number(n.substr(36,1)),isSupportCandraw:!(R.default.playback||!n)&&1===Number(n.substr(37,1)),isSupportPageTrun:!(R.default.playback||!n)&&1===Number(n.substr(38,1)),hasCoursewareRemarks:!(R.default.playback||!n)&&1===Number(n.substr(43,1)),isClassOverNotLeave:!(R.default.playback||!n)&&1===Number(n.substr(47,1)),videoInFullScreen:!(R.default.playback||!n)&&1===Number(n.substr(50,1)),pauseWhenOver:!(R.default.playback||!n)&&1===Number(n.substr(52,1)),pushflow:!(R.default.playback||!n)&&1===Number(n.substr(60,1)),preLoading:!(R.default.playback||!n)&&1===Number(n.substr(102,1)),pptpagingoptions:!(R.default.playback||!n)&&1===Number(n.substr(112,1)),isH5MediaOutput:!0,jumpurl:R.default.playback?"":S.default.getUrlParams("jumpurl"),roomname:I.default.getTkRoom().getRoomProperties().roomname,pullConfigure:I.default.getTkRoom().getRoomProperties().pullConfigure,pushConfigure:I.default.getTkRoom().getRoomProperties().pushConfigure,pushUrl:I.default.getTkRoom().getRoomProperties().pullid,helpcallbackurl:t.helpcallbackurl,classRoomLogoUrl:t.room.classroomlogo?t.room.classroomlogo:void 0,template:w.default.testTemplate?w.default.testTemplate:a&&!/^\d*$/g.test(a)?"template_"+a:w.default.template,skin:w.default.testSkin?w.default.testSkin:i&&!/^\d*$/g.test(i)?"skin_"+i:w.default.skin,pushflowaddr:I.default.getTkRoom().getRoomProperties().pushflowaddr?I.default.getTkRoom().getRoomProperties().pushflowaddr:void 0};I.default.setRoomName(I.default.getTkRoom().getRoomProperties().roomname),I.default.setUserName(I.default.getTkRoom().getMySelf().nickname),I.default.setUserThirdid(I.default.getTkRoom().getMySelf().id),document.head.getElementsByTagName("title")[0].innerHTML=I.default.getRoomName(),w.default.bindRoomInfoToTkConstant(l),w.default.bindParticipantHasRoleToTkConstant(),w.default.bindParticipantHasRoomtypeToTkConstant(),w.default.updateTemplate("template_beyond"),w.default.updateSkin(l.skin),R.default.videoScale=w.default.joinRoomInfo.roomVideoWidth/w.default.joinRoomInfo.roomVideoHeight}},{key:"_compareDocServerSpeedSwitchCND",value:function(){var e=function(e,t){if("function"==typeof t)if("mobile"===TK.SDKTYPE){if(I.default.getTkRoom()&&"function"==typeof I.default.getTkRoom().getLocalStorageItem)try{I.default.getTkRoom().getLocalStorageItem(e,function(e){t(e)})}catch(e){L.Logger.error("getLocalStorageItem error:",e),t("")}}else t(L.Utils.localStorage.getItem("tkDocAddressKey"))};e("tkDocAddressKey",function(t){if(!t){var o=void 0,n=1,a=[],r=!1,i=function(e,t,o,n,a){var r={},i=(new Date).getTime(),l=e+"/speed.bmp?ts="+i,s=new Image;s.onload=function(){var e=(new Date).getTime();r={code:0,loadingTime:a?e-i-50:e-i},"function"==typeof t&&t(r,o,n)},s.onerror=function(){r={code:-1,loadingTime:void 0},"function"==typeof t&&t(r,o,n)},s.src=l},l=function(t){e("tkDocAddressKey",function(e){e||t!==window.WBGlobal.docAddressKey&&(I.default.getTkWhiteBoardManager().switchDocAddress(t,!1),L.Logger.info("auto switch cdn , cdn key is "+window.WBGlobal.docAddressKey+", address is "+window.WBGlobal.nowUseDocAddress))})},s=function(e,t){return e.filter(function(e,o){return(n-1)*t<=o&&o<n*t})},d=function(e,t,o){return e+"://"+t+":"+o};!function e(){var t=[],u=[];s(window.WBGlobal.docAddressList,3).forEach(function(s,c){i(d(s.protocol,s.hostname,s.port),function(n,i,s){L.Logger.info("load backup document cdn  speed.bmp , response is "+L.Utils.toJsonStringify(n)),0===n.code&&n.loadingTime?r||(u.push({hostname:s.hostname,speed:n.loadingTime}),clearTimeout(o),o=setTimeout(function(){if(u.length>1){var e=u.sort(function(e,t){return e.speed-t.speed});l(e[0].hostname)}else l(s.hostname);r=!0},100)):(t.push(1),a.push(1)),a.length===window.WBGlobal.docAddressList.length?l(window.WBGlobal.docAddressList[0].hostname):3===t.length&&e()},c,s,1===n&&0===c)}),n+=1}()}})}},{key:"_startTime",value:function(){var e=this;clearInterval(e.timer),e.intervalNumber=0,D.default.sendSignallingFromUpdateTime(I.default.getTkRoom().getMySelf().id),e.timer=setInterval(function(){R.default.classBeginTime&&R.default.serviceTime?R.default.serviceTime+=1e3:R.default.serviceTime||D.default.sendSignallingFromUpdateTime(I.default.getTkRoom().getMySelf().id),++e.intervalNumber>300&&(D.default.sendSignallingFromUpdateTime(I.default.getTkRoom().getMySelf().id),e.intervalNumber=0)},1e3)}},{key:"_stopTime",value:function(){var e=this;clearInterval(e.timer),e.timer=null,e.intervalNumber=0}}]),e}(),N=new B;t.default=N},HSQo:function(e,t,o){e.exports={default:o("CJli"),__esModule:!0}},HUPQ:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("mvHQ"),r=n(a),i=o("DrPG"),l=n(i);window.GLOBAL=window.GLOBAL||{};var s=window.GLOBAL;s.classBegin=!1,s.endClassBegin=!1,s.routeName=void 0,s.playback=!1,s.playPptVideoing=!1,s.playMediaFileing=!1,s.serviceTime=void 0,s.firstGetServiceTime=!1,s.isHandleMsglist=!1,s.remindServiceTime=void 0,s.classBeginTime=void 0,s.isSkipPageing=!1,s.mobileDeviceType=void 0,s.windowInnerWidth=window.innerWidth,s.windowInnerHeight=window.innerHeight,s.isOnlyAudioRoom=!1;var d=l.default.getBrowserInfo();L.Logger.info("浏览器 browserInfo:"+(0,r.default)(d)),s.isMobile=d.versions.mobile||d.versions.ios||d.versions.android||d.versions.iPhone||d.versions.iPad,s.isBroadcastClient=s.isClient&&s.isBroadcast,s.isBroadcastMobile=s.isMobile&&s.isBroadcast,s.languageName="ch"===l.default.getUrlParams("languageType")?"chinese":"tw"===l.default.getUrlParams("languageType")?"complex":"english",s.showShapeAuthor=!1,s.clientComponentName=l.default.getUrlParams("loadComponentName"),s.handlerRoomServeraddressUpdateIsInit=!0,t.default=s},KyAL:function(e,t,o){function n(e){return o(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./i18_chinese.js":"ppOE","./i18_complex.js":"2vo4","./i18_english.js":"yZ13"};n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id="KyAL"},Ovlj:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("mvHQ"),r=n(a),i=o("pFYg"),l=n(i),s=o("Zrlr"),d=n(s),u=o("wxAW"),c=n(u),f=o("HUPQ"),m=n(f),g=o("yE5a"),p=n(g),v=o("Sa83"),h=n(v),b=o("VSuD"),y=(n(b),function(){function e(){(0,d.default)(this,e)}return(0,c.default)(e,[{key:"pubMsg",value:function(e,t,o,n,a,i,s,d){if(h.default.handler.getAppPermissions("pubMsg")&&m.default.appConnected){o=o||"__all";var u=!a;n&&"object"===(void 0===n?"undefined":(0,l.default)(n))&&(n=(0,r.default)(n));var c={msgName:e,msgId:t,toId:o,data:n,save:u,expiresabs:i,associatedMsgID:s,associatedUserID:d,expires:void 0,type:void 0,write2DB:void 0,actions:void 0,do_not_replace:void 0};p.default.getTkRoom().pubMsg(c)}}},{key:"delMsg",value:function(e,t,o,n){if(h.default.handler.getAppPermissions("delMsg")&&m.default.appConnected){o=o||"__all",n&&"object"===(void 0===n?"undefined":(0,l.default)(n))&&(n=(0,r.default)(n));var a={msgName:e,msgId:t,toId:o,data:n};p.default.getTkRoom().delMsg(a)}}},{key:"setProperty",value:function(e,t,o){h.default.handler.getAppPermissions("setProperty")&&m.default.appConnected&&(t=t||"__all",p.default.getTkRoom().changeUserProperty(e,t,o))}},{key:"setParticipantPropertyToAll",value:function(e,t){h.default.handler.getAppPermissions("setParticipantPropertyToAll")&&this.setProperty(e,"__all",t)}},{key:"sendSignallingDataToParticipant",value:function(e,t,o,n,a,r,i,l,s){if(h.default.handler.getAppPermissions("sendSignallingDataToParticipant")){var d=this;e?d.delMsg(t,o,n,a):(l||"VideoWhiteboard"===t||"ClassBegin"===t||"SharpsChange"===t||"WBPageCount"===t||"ShowPage"===t||"whiteboardMarkTool"===t||(l="ClassBegin"),d.pubMsg(t,o,n,a,r,i,l,s))}}}]),e}());t.default=y},PqAP:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=o("GiK3"),r=n(a),i=o("O27J"),l=n(i),s=o("Sa83"),d=n(s),u=o("rkp3"),c=n(u);d.default.handler.loadSystemRequiredInfo(),l.default.render(r.default.createElement(c.default,null),document.getElementById("tk_app"))},Sa83:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("T+56"),r=n(a),i=o("GrKX"),l=n(i),s=o("VSuD"),d=n(s),u=o("HUPQ"),c=n(u),f=o("DrPG"),m=n(f),g=o("0jvK"),p=n(g),v=o("ZZXC"),h=n(v),b=o("yE5a"),y=n(b),k=TK.EventDispatcher({});r.default.CoreController=k,k.handler={},k.handler.loadSystemRequiredInfo=function(){if(TK.tkLogPrintConfig)if(d.default.DEV){var e={debug:!0},t={development:!0,logLevel:d.default.LOGLEVEL.DEBUG},o={webrtcLogDebug:!0};TK.tkLogPrintConfig(e,t,o)}else{var n={debug:!1},a={development:!1,logLevel:d.default.LOGLEVEL.INFO},r={webrtcLogDebug:!1};TK.tkLogPrintConfig(n,a,r)}h.default.getAppLanguageInfo(function(e){c.default.language=e}),y.default.setTkRoom(TK.MobileNativeRoom()),l.default.registerEventToRoom();var i=new window.TKWhiteBoardManager(void 0,void 0,!0);y.default.setTkWhiteBoardManager(i),y.default.getTkRoom().registerRoomWhiteBoardDelegate(i)},k.handler.checkRoom=function(e){var t={type:d.default.EVENTTYPE.RoomEvent.roomCheckroom,message:{checkMeetingAterCallback:e}};r.default.CoreController.dispatchEvent(t)},k.handler.setAppPermissions=function(e,t){p.default.setAppPermissions(e,t)},k.handler.getAppPermissions=function(e){return p.default.getAppPermissions(e)},k.handler.initAppPermissions=function(e){p.default.initAppPermissions(e)},k.handler.addEventListenerOnCoreController=function(){document.oncontextmenu=null,document.oncontextmenu=function(){return!1},window.onbeforeunload=null,window.onbeforeunload=function(){},m.default.tool.removeEvent(document,"selectstart",function(){return!1}),m.default.tool.addEvent(document,"selectstart",function(){return!1},!1);var e=function(){document.getElementById("tk_app")?(c.default.windowInnerWidth=document.getElementById("tk_app").clientWidth,c.default.windowInnerHeight=document.getElementById("tk_app").clientHeight):(c.default.windowInnerWidth=window.innerWidth,c.default.windowInnerHeight=window.innerHeight);var e=c.default.windowInnerWidth/d.default.STANDARDSIZE,t=document.getElementById("all_root")||document.getElementsByTagName("html");if(t){var o=m.default.isArray(t)?t[0]:t;o&&o.style&&(o.style.fontSize=e+"px")}r.default.Window.dispatchEvent({type:d.default.EVENTTYPE.WindowEvent.onResize,message:{defalutFontSize:e}})};m.default.tool.removeEvent(window,"resize",e),m.default.tool.addEvent(window,"resize",e),e();var t=function(e){r.default.Window.dispatchEvent({type:d.default.EVENTTYPE.WindowEvent.onMessage,message:{event:e}})};m.default.tool.removeEvent(window,"message",t),m.default.tool.addEvent(window,"message",t,!1)},k.handler.addEventListenerOnCoreController(),t.default=k},"T+56":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.Document=TK.EventDispatcher({}),n.Window=TK.EventDispatcher({}),n.Element=TK.EventDispatcher({}),n.Room=TK.EventDispatcher({}),n.Stream=TK.EventDispatcher({}),n.Role=TK.EventDispatcher({}),t.default=n},TmV0:function(e,t,o){o("fZOM"),e.exports=o("FeBl").Object.values},VSuD:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("HSQo"),r=n(a),i=o("DrPG"),l=n(i),s=o("T+56"),d=n(s),u=o("HUPQ"),c=n(u),f=o("yE5a"),m=n(f),g={},p="v2.1.7",v="2018031000",h=!1;try{p="3.2.7.0",v=2019060511,h=!1}catch(o){L.Logger.warning("There is no configuration version number and version time[__VERSIONS__ , __VERSIONSTIME__]!"),L.Logger.warning("There is no configuration dev mark[__DEV__]!")}g.VERSIONS=p,g.VERSIONSTIME=v,g.newpptVersions=2017091401,g.remoteNewpptUpdateTime=2018032113,g.debugFromAddress=!!l.default.getUrlParams("debug")&&""!=l.default.getUrlParams("debug"),g.DEV=h||g.debugFromAddress,g.role={},(0,r.default)(g.role,{roleChairman:{value:0,writable:!1},roleTeachingAssistant:{value:1,writable:!1},roleStudent:{value:2,writable:!1},roleAudit:{value:3,writable:!1},rolePatrol:{value:4,writable:!1},rolePlayback:{value:-1,writable:!1}});var b={};(0,r.default)(b,{roomConnected:{value:"room-connected",writable:!1,enumerable:!0},roomParticipantJoin:{value:"room-participant_join",writable:!1,enumerable:!0},roomParticipantLeave:{value:"room-participant_leave",writable:!1,enumerable:!0},roomPubmsg:{value:"room-pubmsg",writable:!1,enumerable:!0},roomDelmsg:{value:"room-delmsg",writable:!1,enumerable:!0},roomUserpropertyChanged:{value:"room-userproperty-changed",writable:!1,enumerable:!0},roomDisconnected:{value:"room-disconnected",writable:!1,enumerable:!0},roomPlaybackDuration:{value:"room-playback-duration",writable:!1,enumerable:!0},roomPlaybackPlaybackEnd:{value:"room-playback-playbackEnd",writable:!1,enumerable:!0},roomPlaybackPlaybackUpdatetime:{value:"room-playback-playback_updatetime",writable:!1,enumerable:!0},roomPlaybackClearAll:{value:"room-playback-clear_all",writable:!1,enumerable:!0},roomPlaybackClearAllFromPlaybackController:{value:"room-playback-clear_all-from-playback-controller",writable:!1,enumerable:!0},roomServeraddressUpdate:{value:"room-serveraddress-update",writable:!1,enumerable:!0},roomUpdateFakeJsSdkInitInfo:{value:"room-updateFakeJsSdkInitInfo",writable:!1,enumerable:!0},roomReceiveActionCommand:{value:"room-receiveActionCommand",writable:!1,enumerable:!0},roomCheckroom:{value:"room-checkroom",writable:!1,enumerable:!0},roomCheckroomPlayback:{value:"room-checkroom-playback",writable:!1,enumerable:!0},roomAudiovideostateSwitched:{value:"room-audiovideostate-switched",writable:!1,enumerable:!0},roomModeChanged:{value:"room-mode-changed",writable:!1,enumerable:!0}});var y={};(0,r.default)(y,{onResize:{value:"onResize",writable:!1}}),(0,r.default)(y,{onMessage:{value:"onMessage",writable:!1}});var k={};(0,r.default)(k,{onKeydown:{value:"onKeydown",writable:!1},onFullscreenchange:{value:"onFullscreenchange",writable:!1}}),g.EVENTTYPE={},(0,r.default)(g.EVENTTYPE,{RoomEvent:{value:b,writable:!1},WindowEvent:{value:y,writable:!1},DocumentEvent:{value:k,writable:!1}}),g.ROOMTYPE={},(0,r.default)(g.ROOMTYPE,{oneToOne:{value:0,writable:!1}}),g.PUBLISHSTATE={},(0,r.default)(g.PUBLISHSTATE,{PUBLISH_STATE_NONE:{value:TK.PUBLISH_STATE_NONE,writable:!1},PUBLISH_STATE_AUDIOONLY:{value:TK.PUBLISH_STATE_AUDIOONLY,writable:!1},PUBLISH_STATE_VIDEOONLY:{value:TK.PUBLISH_STATE_VIDEOONLY,writable:!1},PUBLISH_STATE_BOTH:{value:TK.PUBLISH_STATE_BOTH,writable:!1},PUBLISH_STATE_MUTEALL:{value:TK.PUBLISH_STATE_MUTEALL,writable:!1}}),g.STANDARDSIZE=15.8,g.LOGLEVEL={},(0,r.default)(g.LOGLEVEL,{DEBUG:{value:0,writable:!1},TRACE:{value:1,writable:!1},INFO:{value:2,writable:!1},WARNING:{value:3,writable:!1},ERROR:{value:4,writable:!1},NONE:{value:5,writable:!1}}),g.SERVICEINFO={},g.bindServiceinfoToTkConstant=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.protocol,o=e.web_host,n=e.web_port,a=e.doc_host,r=e.doc_port,i=e.doc_protocol,s=e.isInit,u=void 0===s||s,f={webProtocol:t||g.SERVICEINFO.webProtocol,webHostname:o||g.SERVICEINFO.webHostname,webPort:n||g.SERVICEINFO.webPort,docProtocol:i||g.SERVICEINFO.docProtocol,docHostname:a||g.SERVICEINFO.docHostname,docPort:r||g.SERVICEINFO.docPort};Object.customAssign(f,{webProtocolAndHostname:f.webProtocol+"://"+f.webHostname,webAddress:f.webProtocol+"://"+f.webHostname+":"+f.webPort,docAddress:f.docProtocol+"://"+f.docHostname+":"+f.docPort}),u&&(f.joinUrl=l.default.encrypt(window.location.href)),Object.customAssign(g.SERVICEINFO,f),u&&console.info("encrypt_tk_info:\n",g.SERVICEINFO.joinUrl),d.default&&d.default.CoreController&&d.default.CoreController.dispatchEvent&&d.default.CoreController.dispatchEvent({type:"bindServiceinfoToTkConstant",message:{SERVICEINFO:g.SERVICEINFO}}),m.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({docAddress:{protocol:g.SERVICEINFO.docProtocol,hostname:g.SERVICEINFO.docHostname,port:g.SERVICEINFO.docPort}}),c.default.handlerRoomServeraddressUpdateIsInit=!1},g.joinRoomInfo={},g.bindRoomInfoToTkConstant=function(e){if(!e)return void L.Logger.error("joinRoomInfo is not exist!");L.Logger.debug("joinRoomInfo:",e),g.joinRoomInfo=e,d.default.CoreController.dispatchEvent({type:"bindRoomInfoToTkConstant",message:{joinRoomInfo:g.joinRoomInfo}})},g.hasRole={},g.bindParticipantHasRoleToTkConstant=function(){if(!g.joinRoomInfo)return void L.Logger.error("TkConstant.joinRoomInfo is not exist!");(0,r.default)(g.hasRole,{roleChairman:{value:g.joinRoomInfo&&g.joinRoomInfo.roomrole===g.role.roleChairman,writable:!1},roleTeachingAssistant:{value:g.joinRoomInfo&&g.joinRoomInfo.roomrole===g.role.roleTeachingAssistant,writable:!1},roleStudent:{value:g.joinRoomInfo&&g.joinRoomInfo.roomrole===g.role.roleStudent,writable:!1},roleAudit:{value:g.joinRoomInfo&&g.joinRoomInfo.roomrole===g.role.roleAudit,writable:!1},rolePatrol:{value:g.joinRoomInfo&&g.joinRoomInfo.roomrole===g.role.rolePatrol,writable:!1},rolePlayback:{value:g.joinRoomInfo&&g.joinRoomInfo.roomrole===g.role.rolePlayback,writable:!1}}),d.default.CoreController.dispatchEvent({type:"bindParticipantHasRoleToTkConstant",message:{hasRole:g.hasRole}})},g.hasRoomtype={},g.bindParticipantHasRoomtypeToTkConstant=function(){if(!g.joinRoomInfo)return void L.Logger.error("TkConstant.joinRoomInfo is not exist!");(0,r.default)(g.hasRoomtype,{oneToOne:{value:g.joinRoomInfo&&g.joinRoomInfo.roomtype===g.ROOMTYPE.oneToOne,writable:!1}}),d.default.CoreController.dispatchEvent({type:"bindParticipantHasRoomtypeToTkConstant",message:{hasRoomtype:g.hasRoomtype}})},g.template="template_beyond",g.updateTemplate=function(e){var t=g.template;document.body.classList.remove(t),document.body.classList.remove(g.template),document.body.classList.remove(c.default.isClient?"clientApp":"webpageApp"),document.body.classList.add(g.template),document.body.classList.add(c.default.isClient?"clientApp":"webpageApp"),document.body.setAttribute("tkcustomdatatemplate",g.template),d.default.CoreController.dispatchEvent({type:"updateTemplate",message:{template:g.template}})};var w=l.default.getUrlParams("skinId"),T={tigerlily:"skin_orange",skin_tigerlily:"skin_orange",black:"skin_black",skin_black:"skin_black",default:"skin_beyond_default",purple:"skin_beyond_default",beyond:"skin_beyond_default",beyond_default:"skin_beyond_default",skin_default:"skin_beyond_default",skin_purple:"skin_beyond_default",skin_beyond:"skin_beyond_default",skin_beyond_default:"skin_beyond_default"};g.skin=T[w]||"skin_beyond_default",g.updateSkin=function(e){var t=e,o={tigerlily:"skin_orange",skin_tigerlily:"skin_orange",black:"skin_black",skin_black:"skin_black",default:"skin_beyond_default",purple:"skin_beyond_default",beyond:"skin_beyond_default",beyond_default:"skin_beyond_default",skin_default:"skin_beyond_default",skin_purple:"skin_beyond_default",skin_beyond:"skin_beyond_default",skin_beyond_default:"skin_beyond_default"},n=o[t]||"skin_beyond_default";g.skin=n;for(var a=["skin_orange","skin_black","skin_beyond_default"],r=0;r<a.length;r++)document.body.classList.remove(a[r]);document.body.classList.add(g.skin),document.body.setAttribute("tkcustomdataskin",g.skin),d.default.CoreController.dispatchEvent({type:"updateSkin",message:{skin:g.skin}})},window.TkConstant=g,t.default=g},W3Iv:function(e,t,o){e.exports={default:o("wEtr"),__esModule:!0}},WN3Y:function(e,t){},Wi6Q:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("fZjL"),r=n(a),i=o("BO1k"),l=n(i),s=o("Zrlr"),d=n(s),u=o("wxAW"),c=n(u),f=o("VSuD"),m=n(f),g=o("yE5a"),p=n(g),v=o("0jvK"),h=n(v),b=o("T+56"),y=(n(b),o("HUPQ")),k=n(y),w=o("Sa83"),T=(n(w),function(){function e(t){(0,d.default)(this,e),this.role=t}return(0,c.default)(e,[{key:"getRoleHasDefalutAppPermissions",value:function(e){var t=e||h.default.productionDefaultAppAppPermissions();if(m.default.joinRoomInfo&&void 0!=m.default.joinRoomInfo.roomrole)switch(m.default.joinRoomInfo.roomrole){case m.default.role.roleChairman:if(k.default.classBegin){var o=!0,n=!1,a=void 0;try{for(var i,s=(0,l.default)((0,r.default)(t));!(o=(i=s.next()).done);o=!0)t[i.value]=!0}catch(e){n=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw a}}Object.customAssign(t,{raisehand:!1,dialCircleClick:!1,isShowCoursewareRemarks:m.default.joinRoomInfo.hasCoursewareRemarks,canDraw:p.default.getTkRoom().getMySelf().candraw})}else Object.customAssign(t,{pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,endClassbeginRevertToStartupLayout:!0,isShowCoursewareRemarks:m.default.joinRoomInfo.hasCoursewareRemarks,sendSignallingFromRemoteControl:!0,sendSignallingFromUpdateTime:!0});break;case m.default.role.roleTeachingAssistant:if(k.default.classBegin){var d=!0,u=!1,c=void 0;try{for(var f,g=(0,l.default)((0,r.default)(t));!(d=(f=g.next()).done);d=!0)t[f.value]=!0}catch(e){u=!0,c=e}finally{try{!d&&g.return&&g.return()}finally{if(u)throw c}}Object.customAssign(t,{endClassbeginRevertToStartupLayout:!1,isShowCoursewareRemarks:m.default.joinRoomInfo.hasCoursewareRemarks,canDraw:p.default.getTkRoom().getMySelf().candraw})}else Object.customAssign(t,{pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,endClassbeginRevertToStartupLayout:m.default.joinRoomInfo.isClassOverNotLeave,isShowCoursewareRemarks:m.default.joinRoomInfo.hasCoursewareRemarks,sendSignallingFromRemoteControl:!0,sendSignallingFromUpdateTime:!0});break;case m.default.role.rolePatrol:k.default.classBegin?Object.customAssign(t,{pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,sendSignallingFromUpdateTime:!0}):Object.customAssign(t,{pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,endClassbeginRevertToStartupLayout:m.default.joinRoomInfo.isClassOverNotLeave,sendSignallingFromUpdateTime:!0});break;case m.default.role.roleStudent:k.default.classBegin?Object.customAssign(t,{pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,sendSignallingFromRemoteControl:!0,sendSignallingFromUpdateTime:!0,canDraw:p.default.getTkRoom().getMySelf().candraw}):Object.customAssign(t,{pubMsg:!0,delMsg:!0,setProperty:!0,setParticipantPropertyToAll:!0,sendSignallingDataToParticipant:!0,endClassbeginRevertToStartupLayout:m.default.joinRoomInfo.isClassOverNotLeave,sendSignallingFromRemoteControl:!0,sendSignallingFromUpdateTime:!0});break;case m.default.role.rolePlayback:k.default.classBegin,Object.customAssign(t,{pubMsg:!1,delMsg:!1,setProperty:!1,setParticipantPropertyToAll:!1,sendSignallingDataToParticipant:!1,sendSignallingFromRemoteControl:!0});break;case m.default.role.roleAudit:var v=!0,b=!1,y=void 0;try{for(var w,T=(0,l.default)((0,r.default)(t));!(v=(w=T.next()).done);v=!0)t[w.value]=!1}catch(e){b=!0,y=e}finally{try{!v&&T.return&&T.return()}finally{if(b)throw y}}Object.customAssign(t,{pubMsg:!0,sendSignallingDataToParticipant:!0})}return t}},{key:"addEventListenerToRoomHandler",value:function(){}}]),e}()),S=new T;S.addEventListenerToRoomHandler(),t.default=S},Xd32:function(e,t,o){o("+tPU"),o("zQR9"),e.exports=o("5PlU")},XkXc:function(e,t){},YRCL:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("Zx67"),r=n(a),i=o("Zrlr"),l=n(i),s=o("wxAW"),d=n(s),u=o("zwoO"),c=n(u),f=o("Pf15"),m=n(f),g=o("Ovlj"),p=n(g),v=o("yE5a"),h=(n(v),o("DrPG")),b=(n(h),o("VSuD")),y=(n(b),o("HUPQ")),k=(n(y),o("Sa83")),w=n(k),T=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"sendSignallingFromUpdateTime",value:function(e){if(w.default.handler.getAppPermissions("sendSignallingFromUpdateTime")){var t=this,o=e||"__all",n={};t.sendSignallingDataToParticipant(!1,"UpdateTime","UpdateTime",o,n,!0)}}},{key:"sendSignallingFromRemoteControl",value:function(e,t){if(w.default.handler.getAppPermissions("sendSignallingFromRemoteControl")){var o=e||"__all";this.sendSignallingDataToParticipant(!1,"RemoteControl","RemoteControl",o,t,!0)}}}]),t}(p.default),S=new T;t.default=S},ZZXC:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("DrPG"),r=n(a),i=o("HUPQ"),l=n(i),s=o("VSuD"),d=(n(s),o("yE5a")),u=(n(d),o("T+56")),c=(n(u),o("YRCL")),f=(n(c),{getAppLanguageInfo:function(e,t){var n=t||l.default.languageName,a={};l.default.language=l.default.language||{},a.name=n,a.languageData=o("KyAL")("./i18_"+n+".js").default,e&&"function"==typeof e&&e(a),document.body.className=document.body.className.replace(/(chinese|english|complex)/g,"")+" "+a.name,document.body.setAttribute("data-language",a.name)},TkUtils:r.default});t.default=f},buLY:function(e,t,o){"use strict";var n={error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,e)},log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,e)},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,e)},trace:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.trace.apply(console,e)},debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug.apply(console,e)}};window.Log=n},cSSE:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("mvHQ"),r=n(a),i=o("W3Iv"),l=n(i),s=o("BO1k"),d=n(s),u=o("d7EF"),c=n(u),f=o("Zx67"),m=n(f),g=o("Zrlr"),p=n(g),v=o("wxAW"),h=n(v),b=o("zwoO"),y=n(b),k=o("Pf15"),w=n(k),T=o("GiK3"),S=n(T),E=o("Sa83"),P=(n(E),o("T+56")),C=n(P),R=o("yE5a"),_=n(R),I=o("HUPQ"),M=n(I),A=o("VSuD"),O=n(A),D=o("Ovlj"),B=(n(D),function(e){function t(e){(0,p.default)(this,t);var o=(0,y.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));return o.state={fileTypeMark:"generalDocument",scale:void 0},o.fatherContainerId="white_board_outer_layout",o.whiteboardContainerId="big_literally_wrap",o.loadSuccess=void 0,o.loadFail=void 0,o.sendMobileData={page:{},fileTypeMark:void 0,scale:void 0,irregular:void 0},o}return(0,w.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this,o=setTimeout(function(){C.default.CoreController.addEventListener(O.default.EVENTTYPE.RoomEvent.roomDelmsg,t.handlerRoomDelmsg.bind(t),t.listernerBackupid),C.default.CoreController.addEventListener(O.default.EVENTTYPE.RoomEvent.roomPubmsg,t.handlerRoomPubmsg.bind(t),t.listernerBackupid),C.default.CoreController.addEventListener(O.default.EVENTTYPE.RoomEvent.roomConnected,e.handlerRoomConnected.bind(e),e.listernerBackupid),C.default.CoreController.addEventListener(O.default.EVENTTYPE.RoomEvent.roomReceiveActionCommand,t.receiveActionCommand.bind(t),t.listernerBackupid),C.default.CoreController.addEventListener(O.default.EVENTTYPE.RoomEvent.roomUserpropertyChanged,e.handlerRoomUserpropertyChanged.bind(e),e.listernerBackupid),t._initWhiteboardDefault(),clearTimeout(o)},300)}},{key:"componentWillUnmount",value:function(){_.default.getTkWhiteBoardManager().destroyMainWhiteboard()}},{key:"handlerRoomPubmsg",value:function(e){switch(e.message.name){case"ClassBegin":O.default.joinRoomInfo.isClassOverNotLeave&&_.default.getTkWhiteBoardManager().resetPureWhiteboardTotalPage()}}},{key:"handlerRoomDelmsg",value:function(e){switch(e.message.name){case"ClassBegin":O.default.joinRoomInfo.isClassOverNotLeave||_.default.getTkWhiteBoardManager().resetPureWhiteboardTotalPage()}}},{key:"handlerRoomUserpropertyChanged",value:function(e){var t=e.message,o=e.user,n=!0,a=!1,r=void 0;try{for(var i,s=(0,d.default)((0,l.default)(t));!(n=(i=s.next()).done);n=!0){var u=i.value,f=(0,c.default)(u,2),m=f[0],g=f[1];o.id===_.default.getTkRoom().getMySelf().id&&"candraw"===m&&(O.default.joinRoomInfo.pptpagingoptions?_.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({canDraw:g,canPage:!O.default.hasRole.roleStudent&&g,actionClick:!O.default.hasRole.roleStudent&&g,synchronization:g},"default"):O.default.joinRoomInfo.isSupportPageTrun?_.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({canDraw:g,canPage:!!O.default.hasRole.roleStudent||g,actionClick:!!O.default.hasRole.roleStudent||g,synchronization:g},"default"):_.default.getTkWhiteBoardManager().changeWhiteBoardConfigration({canDraw:g,canPage:g,actionClick:g,synchronization:g},"default"))}}catch(e){a=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw r}}}},{key:"_receiveActionCommand",value:function(e,t){if(L.Logger.info("receive whiteboard sdk action command（action,cmd）:",e,t),C.default.CoreController.dispatchEvent({type:"receiveWhiteboardSDKAction",message:{action:e,cmd:t}}),"viewStateUpdate"===e){for(var o in t.viewState)switch(o){case"page":for(var n in t.viewState[o])this.sendMobileData.page[n]="currentPage"===n||"totalPage"===n?t.viewState[o][n]:!t.viewState[o][n].disabled;break;case"scale":t.viewState[o]===4/3?(this.setState({scale:0}),this.sendMobileData.scale=0):t.viewState[o]===16/9?(this.setState({scale:1}),this.sendMobileData.scale=1):(this.setState({scale:2}),this.sendMobileData.scale=2),this.sendMobileData.scale=this.state.scale,this.sendMobileData.irregular=t.viewState[o];break;case"documentType":this.setState({fileTypeMark:t.viewState[o]}),this.sendMobileData.fileTypeMark=t.viewState[o]}_.default.getTkRoom().sendActionCommand("viewStateUpdate",this.sendMobileData)}"documentLoadFail"===e&&(0,r.default)(this.loadFail)!==(0,r.default)(t.loadFailData)&&(this.loadFail=t.loadFailData,_.default.getTkRoom().sendActionCommand("documentLoadSuccessOrFailure",{notice:"loadFail",data:this.loadFail})),"documentLoadSuccess"===e&&(0,r.default)(this.loadSuccess)!==(0,r.default)(t.loadSuccessData)&&(this.loadSuccess=t.loadSuccessData,_.default.getTkRoom().sendActionCommand("documentLoadSuccessOrFailure",{notice:"loadSuccess",data:this.loadSuccess}))}},{key:"receiveActionCommand",value:function(e){var t=e.message,o=t.action,n=t.cmd;if(document.getElementById("tk_app")&&document.getElementsByClassName("all-container")[0]){var a="skin_beyond_default"===O.default.skin?"transparent":"#161616";document.getElementById("tk_app").getElementsByClassName("all-container")[0].style.background=a}if("mobile"===TK.SDKTYPE)if("chooseShow"===o);else if("whiteboardSDK_addPage"===o)_.default.getTkWhiteBoardManager().addPage();else if("whiteboardSDK_nextPage"===o)_.default.getTkWhiteBoardManager().nextPage();else if("whiteboardSDK_prevPage"===o)_.default.getTkWhiteBoardManager().prevPage();else if("whiteboardSDK_skipPage"===o){var r=n.number;_.default.getTkWhiteBoardManager().skipPage(r)}else"whiteboardSDK_nextStep"===o?_.default.getTkWhiteBoardManager().nextStep():"whiteboardSDK_prevStep"===o?_.default.getTkWhiteBoardManager().prevStep():"whiteboardSDK_enlargeWhiteboard"===o?_.default.getTkWhiteBoardManager().enlargeWhiteboard():"whiteboardSDK_narrowWhiteboard"===o?_.default.getTkWhiteBoardManager().narrowWhiteboard():"whiteboardSDK_openDocumentRemark"===o?_.default.getTkWhiteBoardManager().openDocumentRemark():"whiteboardSDK_closeDocumentRemark"===o&&_.default.getTkWhiteBoardManager().closeDocumentRemark()}},{key:"_initWhiteboardDefault",value:function(){console.error("TkConstant.joinRoomInfo===>",(0,r.default)(O.default.joinRoomInfo));var e=document.getElementById(this.whiteboardContainerId),t={isMobile:!0,canDraw:!1,isLoadDocumentToolBar:!1,isLoadWhiteboardToolBar:!1,isH5MediaOutput:"ios"===M.default.clientType,isH5MediaOutputDominant:"ios"===M.default.clientType};_.default.getTkWhiteBoardManager().createMainWhiteboard(e,t,this._receiveActionCommand.bind(this))}},{key:"handlerRoomConnected",value:function(){var e={isNativePlayAudio:"ios"===M.default.clientType,isNativePlayVideo:"ios"===M.default.clientType};_.default.getTkWhiteBoardManager().changeWhiteBoardConfigration(e,"default")}},{key:"render",value:function(){var e=this,t={background:"#231942",border:"1px solid #463380"};return"skin_black"===O.default.skin?(t.background="#2b2b2f",t.border="1px solid #434346"):"skin_orange"===O.default.skin?O.default.hasRoomtype.oneToOne?(t.background="#F2F2F2",t.border="1px solid #F2F2F2"):(t.background="#E5E5E5",t.border="1px solid #E5E5E5"):"skin_beyond_default"===O.default.skin&&(t.background="transparent"),S.default.createElement("div",{id:e.fatherContainerId,className:"white-board-outer-layout "+(2===this.state.scale||M.default.playback?" change-background-border":""),style:t},"  ",S.default.createElement("div",{id:e.whiteboardContainerId,className:"big-literally-wrap "+("dynamicPPT"===e.state.fileTypeMark||"h5Document"===e.state.fileTypeMark?" hide-document":"")}," "))}}]),t}(S.default.Component));t.default=B},d7EF:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=o("us/S"),r=n(a),i=o("BO1k"),l=n(i);t.default=function(){function e(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var i,s=(0,l.default)(e);!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},fZOM:function(e,t,o){var n=o("kM2E"),a=o("mbce")(!1);n(n.S,"Object",{values:function(e){return a(e)}})},fZjL:function(e,t,o){e.exports={default:o("jFbC"),__esModule:!0}},fxRn:function(e,t,o){o("+tPU"),o("zQR9"),e.exports=o("g8Ux")},g8Ux:function(e,t,o){var n=o("77Pl"),a=o("3fs2");e.exports=o("FeBl").getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},gDty:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=o("pFYg"),r=n(a),i=o("woOf"),l=n(i);Object.customAssign=function(e){try{return l.default.apply(l.default,arguments)}catch(i){for(var t=L.Utils.toJsonParse(L.Utils.toJsonStringify(e)),o=1;o<arguments.length;o++){var n=arguments[o];if(n&&"object"===(void 0===n?"undefined":(0,r.default)(n)))for(var a in n)t[a]=n[a]}return e=t||{}}}},gRE1:function(e,t,o){e.exports={default:o("TmV0"),__esModule:!0}},gSvA:function(e,t,o){var n=o("kM2E"),a=o("mbce")(!0);n(n.S,"Object",{entries:function(e){return a(e)}})},jFbC:function(e,t,o){o("Cdx3"),e.exports=o("FeBl").Object.keys},mbce:function(e,t,o){var n=o("+E39"),a=o("lktj"),r=o("TcQ7"),i=o("NpIQ").f;e.exports=function(e){return function(t){for(var o,l=r(t),s=a(l),d=s.length,u=0,c=[];d>u;)o=s[u++],n&&!i.call(l,o)||c.push(e?[o,l[o]]:l[o]);return c}}},mvHQ:function(e,t,o){e.exports={default:o("qkKv"),__esModule:!0}},pRCB:function(e,t,o){var n=o("kM2E");n(n.S+n.F*!o("+E39"),"Object",{defineProperties:o("qio6")})},ppOE:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={preLoad:{text:"课件加载中",pass:"跳过"}};t.default=n},qkKv:function(e,t,o){var n=o("FeBl"),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},rkp3:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o("mvHQ"),r=n(a),i=o("Zx67"),l=n(i),s=o("Zrlr"),d=n(s),u=o("wxAW"),c=n(u),f=o("zwoO"),m=n(f),g=o("Pf15"),p=n(g),v=o("GiK3"),h=n(v),b=o("yE5a"),y=n(b),k=o("T+56"),w=n(k),T=o("cSSE"),S=n(T),E=o("VSuD"),P=n(E),C=o("HUPQ"),R=n(C),_=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return o.listernerBackupid=(new Date).getTime()+"_"+Math.random(),o}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem("preloadFile"),y.default.getTkRoom()&&y.default.getTkRoom().onPageFinished&&y.default.getTkRoom().onPageFinished(),w.default.CoreController.addEventListener(P.default.EVENTTYPE.RoomEvent.roomReceiveActionCommand,this.receiveActionCommand.bind(this),this.listernerBackupid)}},{key:"componentWillUnmount",value:function(){w.default.CoreController.removeBackupListerner(this.listernerBackupid)}},{key:"receiveActionCommand",value:function(e){var t=e.message,o=t.cmd,n=t.action;if(!o||!o.cmd)return void("preLoadingFile"===n&&y.default.getTkRoom().sendActionCommand("preloadingFished",{}));var a=o.cmd;if(a&&"string"==typeof a)try{a=JSON.parse(a)}catch(e){L.Logger.error("preLoadingFile error info:",e)}if("preLoadingFile"===n||R.default.playback){var i=a.filedata;!!i.baseurl&&localStorage.setItem("preloadFile",(0,r.default)(i)),y.default.getTkRoom().sendActionCommand("preloadingFished",{})}}},{key:"roomUpdateFakeJsSdkInitInfo",value:function(e){}},{key:"callAllWrapOnClick",value:function(e){w.default.CoreController.dispatchEvent({type:"callAllWrapOnClick",message:{event:e}})}},{key:"render",value:function(){return h.default.createElement("section",{className:"app-mobile  all-container ",onTouchStart:this.callAllWrapOnClick.bind(this)},h.default.createElement(S.default,null))}}]),t}(h.default.Component);t.default=_},"us/S":function(e,t,o){e.exports={default:o("Xd32"),__esModule:!0}},wEtr:function(e,t,o){o("gSvA"),e.exports=o("FeBl").Object.entries},yE5a:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=void 0,t=void 0,o=void 0,n=void 0,a=void 0,r=void 0;this.getTkRoom=function(){return e},this.getRoomName=function(){return t},this.setTkRoom=function(t){e=t},this.setRoomName=function(e){t=e},this.getLocalStream=function(){return n},this.setLocalStream=function(e){n=e},this.getUserName=function(){return o},this.setUserName=function(e){o=e},this.getUserThirdid=function(){return a},this.setUserThirdid=function(e){a=e},this.getTkWhiteBoardManager=function(e){return r},this.setTkWhiteBoardManager=function(e){r=e},this.clearAll=function(){e=null,t=null,o=null,n=null,a=null,r=null}};t.default=new n},yZ13:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={preLoad:{text:"Courseware loading",pass:"Skip "}};t.default=n}},[0]);